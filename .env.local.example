# ============================================================================
# Diamond Platform — Local Development Environment
# ============================================================================
# Copy this file to .env.local and adjust values as needed.
#
#   cp .env.local.example .env.local
#
# These values match the docker-compose.yml defaults and work out of the box
# when running `docker compose up`.
# ============================================================================

# Database (local Postgres from docker-compose)
DATABASE_URL=postgres://postgres:postgres@localhost:5432/diamond

# Azure Storage (Azurite emulator)
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=http;AccountName=devstoreaccount1;AccountKey=Eby8vdM02xNOcqFlqUwJPLlmEtlCDXJ1OUzFT50uSRZ6IFsuFq2UVErCz4I6tq/K1SZFPTOtr/KBHBeksoGMGw==;BlobEndpoint=http://127.0.0.1:10000/devstoreaccount1

# Azure Service Bus (Emulator)
AZURE_SERVICE_BUS_CONNECTION_STRING=Endpoint=sb://localhost;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=SAS_KEY_VALUE;UseDevelopmentEmulator=true;

# API
PORT=3000
HMAC_SECRETS={"local":"local-test-secret"}

# Demo feed
FEED=demo
DEMO_FEED_API_URL=http://localhost:4000

# Pool tuning (local — no shared pooler)
PG_POOL_MAX=5
PG_IDLE_TIMEOUT_MS=30000
PG_CONN_TIMEOUT_MS=5000

# Scheduler (cap records for local testing)
MAX_SCHEDULER_RECORDS=500
